<Title>onCleanup</Title>

A lifecycle method used to register a function that is called when the component is 
unmounted / removed from the page.

This is useful for cleaning up up event listeners, intervals, timeouts or any other side logic that
could be left behind when the component is removed from the page if not cleaned up.

onCleanup is will never be called on the sever since components only render in the browser.

### TypeScript Function Signature

```typescript
function onCleanup(fn: () => void): void;
```

### Example

Expanding on the [`onMount`](/reference/onMount) example.

Imagine that the component we setup an event listener for will be added and removed from page 
using a [`<Show>`](/reference/Show) component. We can use `onCleanup` to remove the event listener when the component
is removed from the page.

```jsx
import { onMount, onCleanup, Show } from "solid-js";

const handleResize = () => {
  console.log('resized')
};

const Card = () => {
  onMount(() => {
    console.log('added event listener')
    window.addEventListener("resize", handleResize);
  });

  onCleanup(() => {
    console.log('removed event listener')
    window.removeEventListener("resize", handleResize);
  });

  return <div>Card</div>;
};

const App = () => {
  const [show, setShow] = createSignal(false);

  return (
    <div>
      <button onClick={() => setShow(v => !v)}>Toggle Card</button>

      <Show when={show()}>
        <Card />
      </Show>
    </div>
  );
};
```

Without the `onCleanup` function, the event listener would remain on the window even after the 
component is removed from the page. 